var ye=Object.defineProperty;var ve=(e,t,s)=>t in e?ye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var $=(e,t,s)=>(ve(e,typeof t!="symbol"?t+"":t,s),s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function s(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(n){if(n.ep)return;n.ep=!0;const r=s(n);fetch(n.href,r)}})();function H(){}function we(e,t){for(const s in t)e[s]=t[s];return e}function oe(e){return e()}function te(){return Object.create(null)}function D(e){e.forEach(oe)}function I(e){return typeof e=="function"}function fe(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let U;function se(e,t){return U||(U=document.createElement("a")),U.href=t,e===U.href}function Ee(e){return Object.keys(e).length===0}function $e(e,t,s,i){if(e){const n=ce(e,t,s,i);return e[0](n)}}function ce(e,t,s,i){return e[1]&&i?we(s.ctx.slice(),e[1](i(t))):s.ctx}function qe(e,t,s,i){if(e[2]&&i){const n=e[2](i(s));if(t.dirty===void 0)return n;if(typeof n=="object"){const r=[],l=Math.max(t.dirty.length,n.length);for(let f=0;f<l;f+=1)r[f]=t.dirty[f]|n[f];return r}return t.dirty|n}return t.dirty}function Re(e,t,s,i,n,r){if(n){const l=ce(t,s,i,r);e.p(l,n)}}function Me(e){if(e.ctx.length>32){const t=[],s=e.ctx.length/32;for(let i=0;i<s;i++)t[i]=-1;return t}return-1}function K(e){return e&&I(e.destroy)?e.destroy:H}function _(e,t){e.appendChild(t)}function S(e,t,s){e.insertBefore(t,s||null)}function X(e){e.parentNode&&e.parentNode.removeChild(e)}function Ye(e,t){for(let s=0;s<e.length;s+=1)e[s]&&e[s].d(t)}function E(e){return document.createElement(e)}function pe(e){return document.createTextNode(e)}function R(){return pe(" ")}function F(e,t,s,i){return e.addEventListener(t,s,i),()=>e.removeEventListener(t,s,i)}function h(e,t,s){s==null?e.removeAttribute(t):e.getAttribute(t)!==s&&e.setAttribute(t,s)}function Le(e){return Array.from(e.childNodes)}function Xe(e,t){t=""+t,e.data!==t&&(e.data=t)}function L(e,t){e.value=t??""}function B(e,t,s,i){s==null?e.style.removeProperty(t):e.style.setProperty(t,s,i?"important":"")}let W;function C(e){W=e}const A=[],ne=[];let O=[];const ie=[],Pe=Promise.resolve();let V=!1;function je(){V||(V=!0,Pe.then(de))}function Q(e){O.push(e)}const J=new Set;let j=0;function de(){if(j!==0)return;const e=W;do{try{for(;j<A.length;){const t=A[j];j++,C(t),Ae(t.$$)}}catch(t){throw A.length=0,j=0,t}for(C(null),A.length=0,j=0;ne.length;)ne.pop()();for(let t=0;t<O.length;t+=1){const s=O[t];J.has(s)||(J.add(s),s())}O.length=0}while(A.length);for(;ie.length;)ie.pop()();V=!1,J.clear(),C(e)}function Ae(e){if(e.fragment!==null){e.update(),D(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Q)}}function Se(e){const t=[],s=[];O.forEach(i=>e.indexOf(i)===-1?t.push(i):s.push(i)),s.forEach(i=>i()),O=t}const G=new Set;let Oe;function Z(e,t){e&&e.i&&(G.delete(e),e.i(t))}function he(e,t,s,i){if(e&&e.o){if(G.has(e))return;G.add(e),Oe.c.push(()=>{G.delete(e),i&&(s&&e.d(1),i())}),e.o(t)}else i&&i()}function De(e){e&&e.c()}function me(e,t,s,i){const{fragment:n,after_update:r}=e.$$;n&&n.m(t,s),i||Q(()=>{const l=e.$$.on_mount.map(oe).filter(I);e.$$.on_destroy?e.$$.on_destroy.push(...l):D(l),e.$$.on_mount=[]}),r.forEach(Q)}function be(e,t){const s=e.$$;s.fragment!==null&&(Se(s.after_update),D(s.on_destroy),s.fragment&&s.fragment.d(t),s.on_destroy=s.fragment=null,s.ctx=[])}function ze(e,t){e.$$.dirty[0]===-1&&(A.push(e),je(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function _e(e,t,s,i,n,r,l,f=[-1]){const a=W;C(e);const u=e.$$={fragment:null,ctx:[],props:r,update:H,not_equal:n,bound:te(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:te(),dirty:f,skip_bound:!1,root:t.target||a.$$.root};l&&l(u.root);let c=!1;if(u.ctx=s?s(e,t.props||{},(m,q,...w)=>{const g=w.length?w[0]:q;return u.ctx&&n(u.ctx[m],u.ctx[m]=g)&&(!u.skip_bound&&u.bound[m]&&u.bound[m](g),c&&ze(e,m)),q}):[],u.update(),c=!0,D(u.before_update),u.fragment=i?i(u.ctx):!1,t.target){if(t.hydrate){const m=Le(t.target);u.fragment&&u.fragment.l(m),m.forEach(X)}else u.fragment&&u.fragment.c();t.intro&&Z(e.$$.fragment),me(e,t.target,t.anchor,t.customElement),de()}C(a)}class ge{$destroy(){be(this,1),this.$destroy=H}$on(t,s){if(!I(s))return H;const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(s),()=>{const n=i.indexOf(s);n!==-1&&i.splice(n,1)}}$set(t){this.$$set&&!Ee(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Be(e){let t,s,i,n,r;const l=e[3].default,f=$e(l,e,e[2],null);return{c(){t=E("div"),s=E("div"),f&&f.c(),h(s,"id","panFrame"),h(s,"class","svelte-4n6dg"),h(t,"id","holder"),h(t,"class","svelte-4n6dg")},m(a,u){S(a,t,u),_(t,s),f&&f.m(s,null),i=!0,n||(r=K(e[0].call(null,s)),n=!0)},p(a,[u]){f&&f.p&&(!i||u&4)&&Re(f,l,a,a[2],i?qe(l,a[2],u,null):Me(a[2]),null)},i(a){i||(Z(f,a),i=!0)},o(a){he(f,a),i=!1},d(a){a&&X(t),f&&f.d(a),n=!1,r()}}}function Ce(e,t,s){let{$$slots:i={},$$scope:n}=t;class r{constructor(u,c){$(this,"element");$(this,"lastX");$(this,"lastY");$(this,"isDown");$(this,"posX");$(this,"posY");$(this,"scale");$(this,"bufferScale");$(this,"bufferX");$(this,"bufferY");$(this,"bufferRequested");$(this,"bufferRate");$(this,"step");this.lastX,this.lastY,this.isDown,this.posX=c.x||0,this.posY=c.y||0,this.scale=c.scale||1,this.bufferScale=c.scale||1,this.bufferX=0,this.bufferY=0,this.bufferRequested=!1,this.element=u,this.bufferRate=.16,this.step=c.step||9/10,this.updatePos(),this.initEvents()}updatePos(){this.element.style.transform=`scale(${this.scale}) translate(${this.posX}px, ${this.posY}px)`}updateBuffer(){if(Math.abs(this.bufferX)<1&&(this.bufferX=0),Math.abs(this.bufferY)<1&&(this.bufferY=0),Math.abs(this.bufferScale-this.scale)<1e-8&&(this.scale=this.bufferScale),this.bufferX===0&&this.bufferY===0&&this.scale==this.bufferScale){this.bufferRequested=!1,this.updatePos();return}this.scale=this.scale+(this.bufferScale-this.scale)*.28,this.posX+=this.bufferX*this.bufferRate,this.posY+=this.bufferY*this.bufferRate,this.bufferX=this.bufferX*(1-this.bufferRate),this.bufferY=this.bufferY*(1-this.bufferRate),this.updatePos(),requestAnimationFrame(this.updateBuffer.bind(this))}updateBufferRequest(){this.bufferRequested||(this.bufferRequested=!0,requestAnimationFrame(this.updateBuffer.bind(this)))}initEvents(){this.element.parentElement.addEventListener("mousemove",c=>{if(!this.isDown)return;const m=c.x-this.lastX,q=c.y-this.lastY;this.lastX=c.x,this.lastY=c.y,this.bufferX+=m/this.scale,this.bufferY+=q/this.scale,this.updateBufferRequest()}),this.element.parentElement.addEventListener("mousedown",c=>{this.lastX=c.x,this.lastY=c.y,this.isDown=!0});const u=()=>{this.isDown=!1};this.element.parentElement.addEventListener("mouseup",u),this.element.parentElement.addEventListener("mouseleave",u),this.element.parentElement.addEventListener("wheel",c=>{c.deltaY>0?this.bufferScale*=this.step:this.bufferScale/=this.step,this.updateBufferRequest()})}}let{options:l}=t;function f(a){new r(a,l)}return e.$$set=a=>{"options"in a&&s(1,l=a.options),"$$scope"in a&&s(2,n=a.$$scope)},[f,l,n,i]}class Ie extends ge{constructor(t){super(),_e(this,t,Ce,Be,fe,{options:1})}}const Ne="/assets/earth-c76c33ff.jpg",xe="/assets/sun-8758bb29.jpg",Te="/assets/mercury-71e4ade9.jpg",Ue="/assets/venus-525a9f31.jpg",Fe="/assets/mars-f8ca656c.webp",ke="/assets/jupiter-79b772d1.jpg",Ge="/assets/saturn-76e2b943.jpg",He="/assets/uranus-40f42cdb.webp",Je="/assets/neptune-d9093bf5.jpg",v=149597870,Ke=60*60*24,Ve=365.25,le=100*Ve,Qe=new Date("2000-01-01T12:00:00-00:00"),k=Math.PI/180,We=180/Math.PI,re=[{name:"Sun",label:"태양",image:xe,orbitRadius:0,radius:696340,orbit:{base:{a:0,e:0,i:0,l:0,lp:0,o:0},cy:{a:0,e:0,i:0,l:0,lp:0,o:0}}},{name:"Mercury",label:"수성",image:Te,radius:2439,orbitRadius:.39,orbit:{base:{a:.38709927*v,e:.20563593,i:7.00497902,l:252.2503235,lp:77.45779628,o:48.33076593},cy:{a:37e-8*v,e:1906e-8,i:-.00594749,l:149472.67411175,lp:.16047689,o:-.12534081}}},{name:"Venus",label:"금성",image:Ue,radius:6051,orbitRadius:.72,orbit:{base:{a:.72333566*v,e:.00677672,i:3.39467605,l:181.9790995,lp:131.60246718,o:76.67984255},cy:{a:39e-7*v,e:-4107e-8,i:-7889e-7,l:58517.81538729,lp:.00268329,o:-.27769418}}},{name:"Earth",label:"지구",image:Ne,radius:6371,orbitRadius:1,orbit:{base:{a:1.00000261*v,e:.01671123,i:-1531e-8,l:100.46457166,lp:102.93768193,o:0},cy:{a:562e-8*v,e:-4392e-8,i:-.01294668,l:35999.37244981,lp:.32327364,o:0}}},{name:"Mars",label:"화성",image:Fe,radius:3389,orbitRadius:1.52,orbit:{base:{a:1.52371034*v,e:.0933941,i:1.84969142,l:-4.55343205,lp:-23.94362959,o:49.55953891},cy:{a:1847e-8*v,e:7882e-8,i:-.00813131,l:19140.30268499,lp:.44441088,o:-.29257343}}},{name:"Saturn",label:"목성",image:ke,radius:58232,orbitRadius:1.52,orbit:{base:{a:5.202887*v,e:.04838624,i:1.30439695,l:34.39644051,lp:14.72847983,o:100.47390909},cy:{a:-11607e-8*v,e:-13253e-8,i:-.00183714,l:3034.74612775,lp:.21252668,o:.20469106}}},{name:"Saturn",label:"토성",image:Ge,radius:69911*1.3,orbitRadius:1.52,orbit:{base:{a:9.53667594*v,e:.05386179,i:2.48599187,l:49.95424423,lp:92.59887831,o:113.66242448},cy:{a:-.0012506*v,e:-50991e-8,i:.00193609,l:1222.49362201,lp:-.41897216,o:-.28867794}}},{name:"Uranus",label:"천왕성",image:He,radius:25362,orbitRadius:1.52,orbit:{base:{a:19.18916464*v,e:.04725744,i:.77263783,l:313.23810451,lp:170.9542763,o:74.01692503},cy:{a:-.00196176*v,e:-4397e-8,i:-.00242939,l:428.48202785,lp:.40805281,o:.04240589}}},{name:"Neptune",label:"해왕성",image:Je,radius:24622,orbitRadius:1.52,orbit:{base:{a:30.06992276*v,e:.00859048,i:1.77004347,l:-55.12002969,lp:44.96476227,o:131.78422574},cy:{a:26291e-8*v,e:5105e-8,i:35372e-8,l:218.45945325,lp:-.32241464,o:-.00508664}}}];function ue(e,t,s){const i=e.slice();return i[18]=t[s],i}function ae(e){let t,s,i,n,r=`${e[18].radius*e[3]}px`,l=`${e[18].radius*e[3]}px`,f,a,u=e[18].label+"",c,m,q,w;return{c(){t=E("img"),f=R(),a=E("p"),c=pe(u),h(t,"draggable","false"),h(t,"class","planet svelte-1w95pq5"),se(t.src,s=e[18].image)||h(t,"src",s),h(t,"alt",i=e[18].name),B(t,"height",r),B(t,"width",l),h(a,"class","planet svelte-1w95pq5"),B(a,"font-size","10em")},m(g,y){S(g,t,y),S(g,f,y),S(g,a,y),_(a,c),q||(w=[K(n=e[6].call(null,t,e[18])),K(m=e[7].call(null,a,e[18]))],q=!0)},p(g,y){e=g,y&32&&!se(t.src,s=e[18].image)&&h(t,"src",s),y&32&&i!==(i=e[18].name)&&h(t,"alt",i),n&&I(n.update)&&y&32&&n.update.call(null,e[18]),y&40&&r!==(r=`${e[18].radius*e[3]}px`)&&B(t,"height",r),y&40&&l!==(l=`${e[18].radius*e[3]}px`)&&B(t,"width",l),y&32&&u!==(u=e[18].label+"")&&Xe(c,u),m&&I(m.update)&&y&32&&m.update.call(null,e[18])},d(g){g&&X(t),g&&X(f),g&&X(a),q=!1,D(w)}}}function Ze(e){let t,s=e[5],i=[];for(let n=0;n<s.length;n+=1)i[n]=ae(ue(e,s,n));return{c(){t=E("div");for(let n=0;n<i.length;n+=1)i[n].c();h(t,"id","planetHolder"),h(t,"class","svelte-1w95pq5")},m(n,r){S(n,t,r);for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(t,null)},p(n,r){if(r&40){s=n[5];let l;for(l=0;l<s.length;l+=1){const f=ue(n,s,l);i[l]?i[l].p(f,r):(i[l]=ae(f),i[l].c(),i[l].m(t,null))}for(;l<i.length;l+=1)i[l].d(1);i.length=s.length}},d(n){n&&X(t),Ye(i,n)}}}function et(e){let t,s,i,n,r,l,f,a,u,c,m,q,w,g,y,N,M,x,P,T,p,d,o,z;return s=new Ie({props:{options:{scale:.1},$$slots:{default:[Ze]},$$scope:{ctx:e}}}),{c(){t=E("main"),De(s.$$.fragment),i=R(),n=E("div"),r=E("p"),r.textContent="행성궤도 시뮬레이터 dev@qwreey.kr",l=R(),f=E("p"),f.textContent="행성 축소 배율(km*mut)",a=R(),u=E("input"),c=R(),m=E("p"),m.textContent="궤도 반지름 축소 배율(au*mut)",q=R(),w=E("input"),g=R(),y=E("p"),y.textContent="태양 축소 배율(au*mut)",N=R(),M=E("input"),x=R(),P=E("p"),P.textContent="초당 일 수(days)",T=R(),p=E("input"),h(r,"class","title svelte-1w95pq5"),h(f,"class","inputLabel svelte-1w95pq5"),h(u,"class","input svelte-1w95pq5"),h(m,"class","inputLabel svelte-1w95pq5"),h(w,"class","input svelte-1w95pq5"),h(y,"class","inputLabel svelte-1w95pq5"),h(M,"class","input svelte-1w95pq5"),h(P,"class","inputLabel svelte-1w95pq5"),h(p,"class","input svelte-1w95pq5"),h(n,"id","topbar"),h(n,"class","svelte-1w95pq5"),h(t,"class","svelte-1w95pq5")},m(b,Y){S(b,t,Y),me(s,t,null),_(t,i),_(t,n),_(n,r),_(n,l),_(n,f),_(n,a),_(n,u),L(u,e[0]),_(n,c),_(n,m),_(n,q),_(n,w),L(w,e[1]),_(n,g),_(n,y),_(n,N),_(n,M),L(M,e[2]),_(n,x),_(n,P),_(n,T),_(n,p),L(p,e[4]),d=!0,o||(z=[F(u,"input",e[8]),F(w,"input",e[9]),F(M,"input",e[10]),F(p,"input",e[11])],o=!0)},p(b,[Y]){const ee={};Y&2097192&&(ee.$$scope={dirty:Y,ctx:b}),s.$set(ee),Y&1&&u.value!==b[0]&&L(u,b[0]),Y&2&&w.value!==b[1]&&L(w,b[1]),Y&4&&M.value!==b[2]&&L(M,b[2]),Y&16&&p.value!==b[4]&&L(p,b[4])},i(b){d||(Z(s.$$.fragment,b),d=!0)},o(b){he(s.$$.fragment,b),d=!1},d(b){b&&X(t),be(s),o=!1,D(z)}}}function tt(e,t,s){let i=0,n=t;for(let r=0;r<s;r++)i=n,n=e(i);return i}function st(e,t){return s=>s+(t+e*Math.sin(s)-s)/(1-e*Math.cos(s))}function nt(e,t,s){let i=20,n=8e15,r=40,l,f,a=60;const u=[];re.forEach(p=>{u.push({image:p.image,label:p.label,left:0,top:0,name:p.name,orbit:p.orbit,orbitRadius:p.orbitRadius,radius:p.radius,update:void 0})});let c=m(new Date);function m(p){return(+p-+Qe)/1e3/Ke/le}function q(p,d){let o={};return o=Object.keys(p.base).reduce((z,b)=>(z[b]=p.base[b]+(p.cy[b]||0)*d,z),o),o.M=o.l-o.lp,o.a*=1e3,o.i*=k,o.o*=k,o.w*=k,o.M*=k,o.E=tt(st(o.e,o.M),o.M,6),o.pos={x:null,y:null},o.pos.x=o.a*(Math.cos(o.E)-o.e),o.pos.y=o.a*Math.sqrt(1-o.e*o.e)*Math.sin(o.E),o.r=Math.sqrt(Math.pow(o.pos.x,2)+Math.pow(o.pos.y,2)),o.v=Math.atan2(o.pos.y,o.pos.x),o.r/=1e3*v,o.v*=We,o}let w=0;function g(){console.log(c);const p=c+w/le;for(const d of u){const o=q(d.orbit,p);d.top=o.pos.y,d.left=o.pos.x,d.updateImg&&d.updateImg(),d.updateLabel&&d.updateLabel()}w+=1*(a/60),requestAnimationFrame(g)}g();function y(p,d){d.updateImg=()=>{p.style.left=d.left*f-d.radius/2*l+"px",p.style.top=d.top*f-d.radius/2*l+"px"}}function N(p,d){d.updateLabel=()=>{p.style.left=d.left*f+"px",p.style.top=d.top*f+d.radius/2*l+"px"}}function M(){i=this.value,s(0,i)}function x(){n=this.value,s(1,n)}function P(){r=this.value,s(2,r)}function T(){a=this.value,s(4,a)}return e.$$.update=()=>{e.$$.dirty&3&&(s(3,l=1/i),f=v/n),e.$$.dirty&4&&s(5,u[0].radius=re[0].radius/r,u)},[i,n,r,l,a,u,y,N,M,x,P,T]}class it extends ge{constructor(t){super(),_e(this,t,nt,et,fe,{})}}new it({target:document.getElementById("app")});
